(function(t){function r(r){for(var i,a,s=r[0],c=r[1],l=r[2],d=0,f=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&f.push(n[a][0]),n[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(r);while(f.length)f.shift()();return o.push.apply(o,l||[]),e()}function e(){for(var t,r=0;r<o.length;r++){for(var e=o[r],i=!0,s=1;s<e.length;s++){var c=e[s];0!==n[c]&&(i=!1)}i&&(o.splice(r--,1),t=a(a.s=e[0]))}return t}var i={},n={app:0},o=[];function a(r){if(i[r])return i[r].exports;var e=i[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=i,a.d=function(t,r,e){a.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,r){if(1&r&&(t=a(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)a.d(e,i,function(r){return t[r]}.bind(null,i));return e},a.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(r,"a",r),r},a.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},a.p="/physics-2048/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=r,s=s.slice();for(var l=0;l<s.length;l++)r(s[l]);var u=c;o.push([0,"chunk-vendors"]),e()})({0:function(t,r,e){t.exports=e("56d7")},"034f":function(t,r,e){"use strict";e("85ec")},"56d7":function(t,r,e){"use strict";e.r(r);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),n=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{attrs:{id:"app"}},[t._m(0),e("div",{staticClass:"container"},[e("button",{staticStyle:{"margin-top":"2px"},on:{click:t.reset}},[t._v("Начать заново")])]),e("div",{staticClass:"container"},[e("p",[t._v("Очки: "+t._s(t.score))]),null!==t.lastCreatedTile?e("p",{staticStyle:{"margin-left":"5px"}},[t._v("Последняя новая плитка: "+t._s(t.lastCreatedTile))]):t._e()]),e("p",[t._v("Используйте стрелки клавиатуры или кнопки ниже для управления.")]),e("div",{staticClass:"container"},[e("table",[e("tr",[e("td"),e("td",[e("button",{on:{click:function(r){return t.move("up")}}},[t._v("🡡")])]),e("td")]),e("tr",[e("td",[e("button",{on:{click:function(r){return t.move("left")}}},[t._v("🡠")])]),e("td"),e("td",[e("button",{on:{click:function(r){return t.move("right")}}},[t._v("🡢")])])]),e("tr",[e("td"),e("td",[e("button",{on:{click:function(r){return t.move("down")}}},[t._v("🡣")])]),e("td")])])])])},o=[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"container"},[e("canvas",{attrs:{id:"c",width:"376",height:"376"}})])}],a=(e("99af"),e("cb29"),e("4de4"),e("caad"),e("2532"),{startingTiles:["ν","S","l","m","g","t","t°","g","π","2","ρ","λ","V","v"],fontSizes:[64,48,32],appearance:{color:{l:"#7940E7",t:"#5EBA6C",v:"#FCD61F",m:"#787593",g:"#3CBC7B",F:"#738079",E:"#A0D924",cm:"#DA9B1F","t°":"#32DF11",S:"#86863F","Pᶢ":"#093A91","ρ":"#886E4E","ρg":"#595716",gl:"#EAAA91",V:"#EBC025",L:"#9DEDFF","λ":"#BAD48A",p:"#F0F611",q:"#282877",I:"#278476","I²":"#57F5E4",R:"#ACF7BE","I²R":"#ED2E3A",Rt:"#DE4DC0",IV:"#1550FE",Vt:"#84EC9B","v²":"#01C6A8","v²/R":"#DAFC17","r²":"#8BAFB3","π":"#FFB514",2:"#F50115","2π":"#22988C","πr":"#1099D8",k:"#489916",gV:"#BC2239"},fontColor:{p:"black"}},combinations:{"l t":"v","m g":"F","F l":"E","cm t°":"E","F S":"Pᶢ","ρ g":"ρg","g l":"gl","ρg l":"Pᶢ","ρ gl":"Pᶢ","m ρ":"V","m L":"E","m λ":"E","m v":"p","l l":"S","S l":"V","q t":"I","V R":"I","m M":"ν","I I":"I²","I² R":"I²R","R t":"Rt","I²R t":"E","I² Rt":"E","I V":"IV","V t":"Vt","IV t":"E","I Vt":"E","v v":"v²","v² R":"v²/R","v²/R t":"E","v² Rt":"E","r r":"r²","π r²":"S","2 π":"2π","π r":"πr","2π r":"l","2 πr":"l","g V":"gV","ρg V":"F","ρ gV":"F","k l":"F"}}),s={name:"App",data:function(){return{grid:[["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""]],knownTiles:[],lastCreatedTile:null,score:0}},beforeMount:function(){for(var t=this,r=[],e=0;e<5;e++){for(var i=[],n=0;n<5;n++)i.push("");r.push(i)}this.grid=r,this.putRandomNumber(),this.putRandomNumber(),document.addEventListener("keydown",(function(r){switch(r.key){case"ArrowLeft":t.move("left");break;case"ArrowUp":t.move("up");break;case"ArrowRight":t.move("right");break;case"ArrowDown":t.move("down");break;default:break}}))},methods:{putRandomNumber:function(){var t=this.grid,r=[];for(var e in t)for(var i in t)""==t[e][i]&&r.push([parseInt(e),parseInt(i)]);var n=r[Math.floor(Math.random()*r.length)],o=a.startingTiles[Math.floor(Math.random()*a.startingTiles.length)];t[n[0]][n[1]]=o,this.grid=t},slideRow:function(t){var r=t.filter((function(t){return""!==t})),e=Array(5-r.length).fill("");return r=e.concat(r),r},combineRow:function(t){for(var r=t,e=4;e>=1;e--){var i=r[e],n=r[e-1],o=void 0;!{}.hasOwnProperty.call(a.combinations,"".concat(i," ").concat(n))?{}.hasOwnProperty.call(a.combinations,"".concat(n," ").concat(i))&&(o=a.combinations["".concat(n," ").concat(i)]):(o=a.combinations["".concat(i," ").concat(n)],this.knownTiles.includes(o)||(this.knownTiles.push(o),this.lastCreatedTile=o,this.score++)),void 0!==o&&(r[e]=o,r[e-1]="")}return r},operate:function(t,r){var e=t;return e=this.slideRow(e,r),e=this.combineRow(e),e=this.slideRow(e,r),e},copyGrid:function(t){var r=[["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""]];for(var e in t)for(var i in t)r[e][i]=t[e][i];return r},compareGrid:function(t,r){for(var e in t)for(var i in t)return t[e][i]!=r[e][i]},flipGrid:function(t){var r=t;for(var e in r)r[e].reverse();return r},rotateGrid:function(t){var r=[["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""]];for(var e in t)for(var i in t)r[e][i]=t[i][e];return r},updateCanvas:function(){var t=this,r=document.querySelector("#c"),e=r.getContext("2d"),i=75,n=75,o=t.$data.grid;for(var s in e.clearRect(0,0,r.width,r.height),o)for(var c in o)if(e.strokeRect(c*i+5,s*n+5,i-5,n-5),""!=o[s][c]){var l=a.appearance.color[o[s][c]],u=a.appearance.fontColor[o[s][c]],d=a.fontSizes[o[s][c].length-1];e.font=void 0!==d?d+"px italic":"64px italic",e.fillStyle=void 0!==l?l:"black",e.fillRect(c*i+5,s*n+5,i-5,n-5),e.fillStyle=void 0!==u?u:"white",e.textAlign="center",e.textBaseline="middle",e.fillText(o[s][c],c*i+i/2+2.5,s*n+n/2+2.5)}},isGameOver:function(){for(var t=this.grid,r=0;r<5;r++)for(var e=0;e<5;e++){if(""==t[r][e])return!1;if(3!==r&&a.combinations["".concat(t[r][e]," ").concat(t[r+1][e])])return!1;if(3!==e&&t[r][e]===t[r][e+1])return!1}return!0},move:function(t){var r,e=this.copyGrid(this.grid),i=!1,n=!1;switch(t){case"left":this.grid=this.flipGrid(this.grid),i=!0;break;case"right":break;case"up":this.grid=this.rotateGrid(this.grid),this.grid=this.flipGrid(this.grid),n=!0,i=!0;break;case"down":this.grid=this.rotateGrid(this.grid),n=!0;break;default:break}for(r in this.grid)this.grid[r]=this.slideRow(this.grid[r]),this.grid[r]=this.combineRow(this.grid[r]),this.grid[r]=this.slideRow(this.grid[r]);i&&(this.grid=this.flipGrid(this.grid)),n&&(this.grid=this.rotateGrid(this.grid),n=!1),this.compareGrid(e,this.grid)&&this.putRandomNumber(),this.updateCanvas()},reset:function(){this.grid=[["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""]],this.lastCreatedTile=null,this.knownTiles=[],this.score=0,this.putRandomNumber(),this.putRandomNumber(),this.updateCanvas()}},mounted:function(){this.updateCanvas()}},c=s,l=(e("034f"),e("2877")),u=Object(l["a"])(c,n,o,!1,null,null,null),d=u.exports;i["a"].config.productionTip=!1,document.title="Физический 2048",new i["a"]({render:function(t){return t(d)}}).$mount("#app")},"85ec":function(t,r,e){}});
//# sourceMappingURL=app.ad6e30bb.js.map