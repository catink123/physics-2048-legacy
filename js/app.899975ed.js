(function(t){function e(e){for(var r,o,s=e[0],c=e[1],l=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],r=!0,s=1;s<i.length;s++){var c=i[s];0!==n[c]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var r={},n={app:0},a=[];function o(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=r,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(i,r,function(e){return t[e]}.bind(null,r));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/physics-2048/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"13f1":function(t,e,i){t.exports=i.p+"img/speed.57364f12.png"},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"container"},[i("p",[t._v("Очки: "+t._s(t.score))]),null!==t.lastCreatedTile?i("p",{staticStyle:{"margin-left":"5px"}},[t._v(" Последняя новая плитка: "+t._s(t.lastCreatedTile)+" ")]):t._e()]),t._m(0),t.rulesRead?t._e():i("div",{staticClass:"rules"},[i("div",{staticClass:"container"},[t._m(1),i("button",{staticStyle:{padding:"5px"},on:{click:function(e){t.rulesRead=!0}}},[t._v(" Начать игру ")])])]),i("div",{staticClass:"container"},[i("button",{staticStyle:{"margin-top":"2px"},on:{click:t.reset}},[t._v("Начать заново")])]),i("div",{staticClass:"container"},[i("table",[i("tr",[i("td"),i("td",[i("button",{on:{click:function(e){return t.move("up")}}},[t._v("▲")])]),i("td")]),i("tr",[i("td",[i("button",{on:{click:function(e){return t.move("left")}}},[t._v("◀")])]),i("td"),i("td",[i("button",{on:{click:function(e){return t.move("right")}}},[t._v("▶")])])]),i("tr",[i("td"),i("td",[i("button",{on:{click:function(e){return t.move("down")}}},[t._v("▼")])]),i("td")])])])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("canvas",{attrs:{id:"c",width:"376",height:"376"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v(" Правила игры:"),i("br"),t._v(" Существует поле 5х5, на котором появляются плитки с величинами. "),i("br"),t._v(" Соединяя эти плитки, можно получить новую плитку, которая является новой величиной или её частью. "),i("br"),t._v(" При нажатии стрелок на клавиатуре или кнопок управления ниже, "),i("br"),t._v(" происходит сдвиг всех плиток в выбранную сторону и все возможные соединения выполняются. "),i("br"),t._v(" После каждого сдвига появляется новая случайная величина. "),i("br"),t._v(" Если создать новую величину, которой не было, то добавится одно очко. ")])}],o=(i("99af"),i("4de4"),i("caad"),i("ac1f"),i("2532"),i("841c"),i("1276"),{startingTiles:["m"],fontSizes:[64,48,32],appearance:{color:{m:"#eee4da",V:"#eee1c9",P:"#f3b27a",S:"#f69664",F:"#f67c5f",E:"#f65e3b",A:"#edcf72",U:"#edcc61",I:"#edc850",R:"#edc53f",T:"#edc22e",Q:"#3e3933",l:"#191715",t:"#212044","υ":"#393977"},fontColor:{m:"black",V:"black"},display:{m:["m","кг","img scale"]}},combinations:{"m m":"V","V V":"P","P P":"S","S S":"F","F F":"E","E E":"A","A A":"U","U U":"I","I I":"R","R R":"T","T T":"Q","Q Q":"l","l l":"t","t t":"υ"}}),s=i("64a2"),c={speed:s("./speed.png"),scale:s("./scale.png")},l=i("d4ec"),u=function t(e,i,r,n){Object(l["a"])(this,t),this.position=r&&n?[r,n]:[0,0],this.prevPosition=[0,0],this.isNewTile=!1,this.value=e,this.display=i},d={name:"App",data:function(){return{grid:[["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""]],knownTiles:[],lastCreatedTile:null,score:0,rulesRead:!1}},beforeMount:function(){var t=this,e=new u("m","кг");console.log(e);for(var i=[],r=0;r<5;r++){for(var n=[],a=0;a<5;a++)n.push(new u("",""));i.push(n)}this.grid=i,this.knownTiles=o.startingTiles,this.putRandomNumber(),this.putRandomNumber(),document.addEventListener("keydown",(function(e){switch(e.key){case"ArrowLeft":t.move("left");break;case"ArrowUp":t.move("up");break;case"ArrowRight":t.move("right");break;case"ArrowDown":t.move("down");break;default:break}}))},methods:{newGrid:function(){for(var t=[],e=0;e<5;e++){for(var i=[],r=0;r<5;r++)i.push(new u("",""));t.push(i)}return t},putRandomNumber:function(){var t=this.grid,e=[];for(var i in t)for(var r in t[i])""===t[i][r].value&&e.push([parseInt(i),parseInt(r)]);var n=e[Math.floor(Math.random()*e.length)],a=this.knownTiles[Math.floor(Math.random()*this.knownTiles.length)];t[n[0]][n[1]].value=a,t[n[0]][n[1]].isNewTile=!0;var s=o.appearance.display[a];t[n[0]][n[1]].display=s?s[Math.round(Math.random()*(s.length-1))]:a,this.grid=t},slideRow:function(t){for(var e=t.filter((function(t){return""!==t.value})),i=[],r=0;r<5-e.length;r++)i[r]=new u("","");return e=i.concat(e),e},combineRow:function(t){for(var e=t,i=4;i>=1;i--){var r=e[i].value,n=e[i-1].value,a=void 0;!{}.hasOwnProperty.call(o.combinations,"".concat(r," ").concat(n))?{}.hasOwnProperty.call(o.combinations,"".concat(n," ").concat(r))&&(a=o.combinations["".concat(n," ").concat(r)]):a=o.combinations["".concat(r," ").concat(n)],void 0!==a&&(e[i].value=a,e[i].display=a,e[i-1].value="",e[i-1].display="",this.knownTiles.includes(a)||(this.knownTiles.push(a),this.lastCreatedTile=a,this.score++))}return e},operate:function(t,e){var i=t;return i=this.slideRow(i,e),i=this.combineRow(i),i=this.slideRow(i,e),i},copyGrid:function(t){var e=this.newGrid();for(var i in t)for(var r in t)e[i][r]=t[i][r];return e},compareGrid:function(t,e){for(var i in t)for(var r in t)if(t[i][r].value!==e[i][r].value)return!1;return!0},flipGrid:function(t){var e=t;for(var i in e)e[i].reverse();return e},transposeGrid:function(t,e){var i=this.newGrid();for(var r in t)for(var n in t)1===e?(i[r][n].value=t[n][r].value,i[r][n].display=t[n][r].display):-1===e&&(i[n][r].value=t[r][n].value,i[n][r].display=t[r][n].display);return i},updateCanvas:function(){var t=this,e=document.querySelector("#c"),i=e.getContext("2d");i.filter="";var r=75,n=75,a=t.$data.grid;for(var s in i.clearRect(0,0,e.width,e.height),a)for(var l in a){!0===a[s][l].isNewTile?(i.strokeStyle="red",i.lineWidth=6):(i.strokeStyle="black",i.lineWidth=2,i.filter=""),i.strokeRect(l*r+5,s*n+5,r-5,n-5),i.filter="",a[s][l].isNewTile=!1;var u=void 0;if(""!=a[s][l].value&&-1===a[s][l].display.search("img")){u=o.appearance.color[a[s][l].value];var d=o.appearance.fontColor[a[s][l].value],f=o.fontSizes[a[s][l].value.length-1];i.font=void 0!==f?f+"px italic":"64px italic",i.fillStyle=void 0!==u?u:"black",i.fillRect(l*r+5,s*n+5,r-5,n-5),i.fillStyle=void 0!==d?d:"white",i.textAlign="center",i.textBaseline="middle",i.fillText(a[s][l].display,l*r+r/2+2.5,s*n+n/2+2.5)}else if(-1!==a[s][l].display.search("img")){u=o.appearance.color[a[s][l].value],i.fillStyle=void 0!==u?u:"black",i.fillRect(l*r+5,s*n+5,r-5,n-5);var p=a[s][l].display.split(" "),h=new Image;h.src=c[p[1]],i.drawImage(h,l*r+5,s*n+5)}}},isGameOver:function(){for(var t=this.grid,e=0;e<5;e++)for(var i=0;i<5;i++){if(""==t[e][i])return!1;if(3!==e&&o.combinations["".concat(t[e][i]," ").concat(t[e+1][i])])return!1;if(3!==i&&t[e][i]===t[e][i+1])return!1}return!0},move:function(t){var e,i=this.copyGrid(this.grid),r=!1,n=!1;switch(t){case"left":this.grid=this.flipGrid(this.grid),r=!0;break;case"right":break;case"up":this.grid=this.transposeGrid(this.grid,1),this.grid=this.flipGrid(this.grid),n=!0,r=!0;break;case"down":this.grid=this.transposeGrid(this.grid,1),n=!0;break;default:break}for(e in this.grid)this.grid[e]=this.slideRow(this.grid[e]),this.grid[e]=this.combineRow(this.grid[e]),this.grid[e]=this.slideRow(this.grid[e]);r&&(this.grid=this.flipGrid(this.grid)),n&&(this.grid=this.transposeGrid(this.grid,-1),n=!1),this.compareGrid(i,this.grid)||this.putRandomNumber(),this.updateCanvas()},reset:function(){this.grid=this.newGrid(),this.lastCreatedTile=null,this.knownTiles=o.startingTiles,this.score=0,this.putRandomNumber(),this.putRandomNumber(),this.updateCanvas()}},mounted:function(){this.updateCanvas()}},f=d,p=(i("034f"),i("2877")),h=Object(p["a"])(f,n,a,!1,null,null,null),v=h.exports;r["a"].config.productionTip=!1,document.title="Физический 2048",new r["a"]({render:function(t){return t(v)}}).$mount("#app")},"64a2":function(t,e,i){var r={"./scale.png":"ed6e","./speed.png":"13f1"};function n(t){var e=a(t);return i(e)}function a(t){if(!i.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}n.keys=function(){return Object.keys(r)},n.resolve=a,t.exports=n,n.id="64a2"},"85ec":function(t,e,i){},ed6e:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpUUqDu0g4pChOrUgKqKbVqEIFUKt0KqDyaVf0KQhSXFxFFwLDn4sVh1cnHV1cBUEwQ8QNzcnRRcp8X9JoUWsB8f9eHfvcfcOEBoVplk9Y4Cm22Y6mRCzuVUx8AoBQYQRw4zMLGNOklLoOr7u4ePrXZxndT/35+hX8xYDfCLxLDNMm3iDeGrTNjjvE0dYSVaJz4ljJl2Q+JHrisdvnIsuCzwzYmbS88QRYrHYwUoHs5KpEU8SR1VNp3wh67HKeYuzVqmx1j35C0N5fWWZ6zSHkcQiliBBhIIayqjARpxWnRQLadpPdPEPuX6JXAq5ymDkWEAVGmTXD/4Hv7u1ChPjXlIoAfS+OM7HCBDYBZp1x/k+dpzmCeB/Bq70tr/aAKY/Sa+3tegRMLANXFy3NWUPuNwBBp8M2ZRdyU9TKBSA9zP6phwQvgX61rzeWvs4fQAy1FXqBjg4BEaLlL3e5d3Bzt7+PdPq7wexBHLAtcC5rAAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+UCCBM2LJCNu6EAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAGOklEQVR42u2ba2wUVRTHf6UFCrQUKhZEtIhGUSgGlQSsgIpRRBAfGGPUGDWifEGCiCKJJPgFYqJEjY+o0aAmjYpKYhCiEERIjBHrA1RUkHeryBsJUOj6Yf4bxunMzp2dmd0pzEluurO9c++5/3vued6FlFJKKaVTn8qApcBqYHAKx0m6A8iobQS6pJBYtNgGTAY4u9gMdUgIMP/YPh8G/k2Bseio7fMyYF96iKCr9Er2GO0Ark9hgb4O/ZIBXkiPEtS5fHei2EyVFGHOM4BRkpRa4D6gxtHnGPARsApYC6yTUj6lgOkIjAHGAsOAy4HOAcc4DPwIfCNHcLnAa5d0BfAi0OSiQ8K2PfKSrwO6txdAqoGXpScyBWg7JI2JpRpZk90FAsTejgPPAeWFXvQYHx0yRd6rySJOaJe/lTP3mUufddIjP+goHjccuxGYDFTm4Hd8lLFYIzDO8V0n4C4tIhezh4AlwAxgJFDlcBPOcnlnusOl6AYMAu4EngV+9pmzSfNVuRzzRvEeCS0D9gLzgEeABcCfPsyt0e5U+IztB4xXmmICMAfYmoOHfcBCYBowVzxvivIoTTIU5W3A08CQAOc9H2Cckns7sMKQxzVR+zufeEy0GXhJpjMfEQ0LjJ3HqbKIi4AjLrrtS21a5OHDBfJEM0oNjABKQ44bFTBOqrWB8xcwMIhDGyRWarVNgDR7XRLimhyhR2ebKzFUIMUSRPZVmiArunUJ9qsGOJ5vijO6bnIkldYmGJh1jud34gTmALDL9vx3goHZruOfpa1xAnOZlGWDXP97EgxMvda3U89XxTnZYingSmA20CKPNGlWqUR+zffyp74ANuSR7jCiYbJAM/VcpWPVkEBgJuoY3ezgfXocwHwKNDsCtFkK8IYkCJhy4Hcltuw+1gfayEjzN8O1AzMd33eXAv4wQcA8qjGc+m+gsn5PRAnMEhdpydKTEtOhCQCmEtgP/OoRniyUy1ERh25xY2aXYqliA3O3JPtaj/9foqM/IwpgPrZZIi+aI/CGFRGYbli54JU+MdH76tcrDCiXCuHHDeKSPVLQxQLmQUnLDQZrapEKyJsadEwqDfo+JakZXgRgOgN/YNWhTCLot3QKeuYDysVCdn4AxdckRV1oYB6WtFxj2L+/UhLz8pWWFuC8AO9ME4MjCghMF2CLvNsgBcQ3FfvVBI2JjhO8uJ61UEsDMBkWmKl6Z0JAXi+UXzM/yEtLsPK3+cQWz0hq6gsATCes1Ooy8rug8K6kprdJ59FaWL5auxdWReHzAgCTtUT5hiSDTfVoCfCVvMfqENZsrhgeZdC3t/oGBaZCOZflIf20t4GD2iBPGi/GFoScrFp+zQoDXXMmbevcJsBMU9/xIXntj3WbwnPNpcB3OgYDIvCY5/i45/ajFxSYCqwy73KiucrymsA5x+2f94qphyIKPHti1bNX+ShGNx0zy0DBZwy83CDZgwzwSvaLMi1gPtbNJoBbgSsDDNqCVWM6pL8lMtuVWCXSkbIarytOcVIfD1C9xH4uVs0cBbYTCV/CyUbik7HuGC9Au7mIeK9pHORkPcpNUbuVUbu59O1A28vSUbdmu/muAn6JaaITth12U/bHPN5bDfTwUOwbY+K1FbjFzdvdHcNEj3mAUiu3INf7Xkp4BFZ9K2pgvHJO9MG6LdlKNPfkcpVX6gzGyKWERwI/RQTIJiWvSv2cvLFYN52O5CEhm2U1/IKzQQbj3W+gNKcA6zG/dWW/nrYSuA3rVlgbEHJRdx2xOqybDudqwdmbSk1YFb5twG9Yt5U28P8KYK6xd8syetGNCkhNqAa4SOnLgfLF+tl43Qp8Lcu5Xp+bSSCV+Cj8g6bBncE8gZ3ADkUGpqOPd1sTwTxZoNsNMPXA+T59JnEa0huYXW4uO10AKZVy3GtoPYYU65zHRWUCoAdWPbmf3IB6fTalI/JXGiVB22UFd+rvgfYiET2wSqHNxH9VfhvwvILLRFMv4D0K/1uCLeRfO4+Vrs7TU46ytYiHcRTnB2ptaLSYyiSozQ67qCj8mHEJNKkPhJWaKIBpTeDRrg3rNUex06/KApUr69ZVrdyxayUKHKvVL8iOHlLuZr9LGjMbV+1VquOA2lFSSimllBJK/wE32qwVIxwL/AAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=app.899975ed.js.map